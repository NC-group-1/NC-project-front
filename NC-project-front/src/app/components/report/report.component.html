<div class="bg-white shadow-lg p-5">
  <div class="example-container">
    <h2 class="p-0 header m-3">Send report</h2>
  </div>
  <div cdkDropListGroup class="row actions-container w-100 p-0 m-0">
    <div class="form-group">

      <form [formGroup]="reportFormGroup" class="w3-container w-100">

        <div class="form-group">
          <label>Email of recipient: <i aria-hidden="true" class="fa fa-envelope"></i></label>
          <div><input #emailUser class="form-control" name="email" type="text" formControlName="emailUser"
                 placeholder="Ex. pat@example.com" required>
            <span><button (click)="sendReport(emailUser.value)" [disabled]="reportFormGroup.invalid"
                                                                          class="btn btn-nc m-3 px-5"> Add </button></span></div>

          <mat-error
            *ngIf="reportFormGroup.controls['emailUser'].hasError('email') && !reportFormGroup.controls['emailUser'].hasError('required')">
            Please enter a valid email address
          </mat-error>
          <mat-error *ngIf="reportFormGroup.controls['emailUser'].hasError('required')">
            Email is <strong>required</strong>
          </mat-error>
        </div>
        <br>
      </form>
      <section class="example-section">
        <mat-checkbox class="example-margin">Check me!</mat-checkbox>
      </section>
      <section class="example-section">
          <span class="example-list-section">
            <mat-checkbox class="example-margin"
                          [checked]="allComplete"
                          [color]="task.color"
                          [indeterminate]="someComplete()"
                          (change)="setAll($event.checked)">
              {{task.name}}
            </mat-checkbox>
          </span>
        <span class="example-list-section">
            <ul>
              <li *ngFor="let subtask of task.subtasks">
                <mat-checkbox [(ngModel)]="subtask.completed"
                              [color]="subtask.color"
                              (ngModelChange)="updateAllComplete()">
                  {{subtask.name}}
                </mat-checkbox>
              </li>
            </ul>
          </span>
      </section>

      <p>
        <button (click)="sendReport(emailUser.value)" [disabled]="reportFormGroup.invalid"
                class="btn btn-nc m-3 px-5"> Send Report
        </button>
        <button class="btn btn-nc m-3 px-5" data-toggle="modal" data-target="discardModal"
                (click)="modalShow()"> Discard
        </button>
      </p>
    </div>
  </div>
</div>

