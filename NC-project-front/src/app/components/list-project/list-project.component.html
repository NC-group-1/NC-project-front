<div class="bg-white shadow-lg p-5">
  <div class="example-container">
    <h2 class="p-0">List of users</h2>
  </div>

<!--    <div class="w3-bar">-->
<!--      <a [routerLink]="['/createProject']" class="btn btn-nc m-3 px-5 w3-right" style="background-color: #0275B1; margin-top: 10px; color: white">+Add</a>-->
<!--&lt;!&ndash;      <button class="btn btn-nc m-3 px-5 w3-right" style="background-color: #0275B1; margin-top: 10px; color: white" (click)="open()">Open</button>&ndash;&gt;-->
<!--    </div>-->

  <div cdkDropListGroup class="row actions-container w-100 p-0 m-0">

    <div class="form-group">
      <label for="input">Find project:</label>
      <input class="form-control float-left col-3 input-sm" id="input" type="text" #input (keyup)="applyFilter($event)"
             matInput placeholder="Search by name and link...">
      </div>
    <div class="w3-bar">
      <a [routerLink]="['/createProject']" class="btn btn-nc m-3 px-5 w3-right" style="background-color: #0275B1; margin-top: 10px; color: white">+Add</a>
      <!--      <button class="btn btn-nc m-3 px-5 w3-right" style="background-color: #0275B1; margin-top: 10px; color: white" (click)="open()">Open</button>-->
    </div>

    <table mat-table [dataSource]="dataSource" class="float-left" matSort (matSortChange)="sortData(orderBy)">

      <mat-radio-group
        aria-labelledby="example-radio-group-label"
        class="example-radio-group"
        [(ngModel)]="selectedProject">
        <ng-container matColumnDef="project_id">
          <th [hidden]="true" mat-header-cell *matHeaderCellDef></th>
          <td [hidden]="true" mat-cell *matCellDef="let element"><p>{{element.project_id}}</p></td>
        </ng-container>

        <ng-container matColumnDef="radioBtn">
          <th width="5%" mat-header-cell *matHeaderCellDef></th>
          <td mat-cell *matCellDef="let element">
            <mat-radio-button class="w3-margin-left example-radio-button" [value]="element.name"></mat-radio-button>
          </td>
        </ng-container>

        <ng-container matColumnDef="name">
          <th width="30%" mat-header-cell *matHeaderCellDef mat-sort-header> Name</th>
          <td mat-cell *matCellDef="let element;let i = index;">
            <p [hidden]="element.edit" (click)="open()">{{element.name}}</p>

            <div [hidden]="!element.edit" style="width: 75%">
              <div class="input-group w-50">
                <input #inputName type="text" class="form-control" (change)="updateName(i, inputName.value)"
                       [value]="element.name" placeholder="Element name">
              </div>
            </div>
          </td>
        </ng-container>

        <ng-container matColumnDef="link">
          <th width="25%" mat-header-cell *matHeaderCellDef mat-sort-header> Link</th>
          <td mat-cell *matCellDef="let element;let i = index;">
            <p [hidden]="element.edit">{{element.link}}</p>

            <div [hidden]="!element.edit" style="width: 75%">
              <div class="input-group w-50">
                <input #inputLink type="text" class="form-control" (change)="updateName(i, inputLink.value)"
                       [value]="element.link" placeholder="Element name">
              </div>
            </div>
          </td>
        </ng-container>

        <ng-container matColumnDef="date">
          <th width="15%" mat-header-cell *matHeaderCellDef mat-sort-header> Date</th>
          <td mat-cell *matCellDef="let element"> {{element.date | date:'short'}} </td>
        </ng-container>

        <ng-container matColumnDef="role">
          <th width="10%" mat-header-cell *matHeaderCellDef mat-sort-header> Creator</th>
          <td mat-cell *matCellDef="let element"> {{element.role}} </td>
        </ng-container>

        <ng-container matColumnDef="archived">
          <th width="30%" mat-header-cell *matHeaderCellDef mat-sort-header> Archived</th>
          <td mat-cell *matCellDef="let element">
            <p [hidden]="element.edit">{{element.archived ? 'Archived' : 'Not archived'}}</p>

            <div [hidden]="!element.edit" style="width: 75%">
              <mat-form-field>
                <mat-label>Select an option</mat-label>
                <mat-select [(value)]="element.archived">
                  <mat-option [value]="option"
                              *ngFor="let option of [true, false]">{{ option ? 'Archived' : 'Not archived' }}</mat-option>
                </mat-select>
              </mat-form-field>
            </div>
          </td>
        </ng-container>

        <ng-container matColumnDef="editBtn">
          <th width="5%" mat-header-cell *matHeaderCellDef> Edit</th>
          <td mat-cell *matCellDef="let element; let i =index">
            <button class="w3-button w3-large w3-circle w3-xlarge w3-ripple w3-white w3-hover-white"
                    (click)="change(i)"><i class="fa fa-pencil"></i></button>
          </td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>

        <tr class="mat-row" *matNoDataRow>
          <td class="mat-cell" colspan="7">No data matching the filter "{{input.value}}"</td>
        </tr>
      </mat-radio-group>
    </table>
  </div>

    <mat-paginator [pageSizeOptions]="pageSizeOptions"
                   [length]="length"
                   [pageSize]="pageSize"
                   (page)="onPaginationChange($event)" showFirstLastButtons>
    </mat-paginator>



</div>
